[General]
http-listen = 0.0.0.0:8888
socks5-listen = 0.0.0.0:8889
external-controller-access = kinglong@0.0.0.0:6170

internet-test-url = http://www.gstatic.com/generate_204
proxy-test-url = http://www.gstatic.com/generate_204

test-timeout = 3
ipv6 = false
show-error-page-for-reject = true

// DNS
dns-server = system, 119.29.29.29, 119.28.28.28, 1.2.4.8, 182.254.116.116

// Advanced
loglevel = notify
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com
exclude-simple-hostnames = true
use-default-policy-if-wifi-not-primary = false

// Others
allow-wifi-access = true
enhanced-mode-by-rule = false
network-framework = false

[Replica]
hide-apple-request = true
hide-crashlytics-request = true
hide-udp = false
keyword-filter-type = false


[Proxy]
# > ËäÇÁÇπÂêçÁß∞ = ÂçèËÆÆÔºåÊúçÂä°Âô®Âú∞ÂùÄÔºåÊúçÂä°Âô®Á´ØÂè£Ôºåencrypt-method=Âä†ÂØÜÂçèËÆÆÔºåpassword=ÂØÜÁ†ÅÔºåobfs=Ê∑∑Ê∑ÜÁ±ªÂûãÔºàhttp/tlsÔºâÔºåobfs-host=Ê∑∑Ê∑ÜÂú∞ÂùÄ

# ‰ª£ÁêÜÊúçÂä°Âô® (tfo = true,udp-relay = true,mptcp = true)
# ‰ª£ÁêÜÁ±ªÂûãÔºöHTTP
# ProxyA = http, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD]

# ‰ª£ÁêÜÁ±ªÂûãÔºöHTTPS
# ProxyHTTPS = https, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD]

# ‰ª£ÁêÜÁ±ªÂûãÔºöSOCKS5
# ProxyB = socks5, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD]

# ‰ª£ÁêÜÁ±ªÂûãÔºöSOCKS5 over TLS
# ProxyC = socks5-tls, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD], skip-common-name-verify=true

# ‰ª£ÁêÜÁ±ªÂûãÔºöSnell
# ProxyD = snell, [SERVER ADDRESS], [GENERATED PORT], psk=[GENERATED PSK], obfs=http

# ‰ª£ÁêÜÁ±ªÂûãÔºöShadowsocks (Êñ∞ÁâàÂÜôÊ≥ï)
# ProxyF = ss, [SERVER ADDRESS], [GENERATED PORT], encrypt-method = [ENCRYPT METHOD], password = [PASSWORD]

# ‰ª£ÁêÜÁ±ªÂûãÔºöV2ray
# vmessProxy= vmess, example.com, 443, username = 12345678-abcd-1234-1234-47ffca0ce229, ws=true, tls=true, ws-path=/v2, ws-headers=X-Header-1:value|X-Header-2:value


üöÄ Direct = direct
üà≤ Ad-Block = reject
üàöÔ∏è Ad-Gif = reject-tinygif
üàØÔ∏è Ad-Pass = direct


[Proxy Group]
# ÁôΩÂêçÂçïÊ®°Âºè PROXYÔºåÈªëÂêçÂçïÊ®°Âºè DIRECT
Final = select,PROXY,DIRECT
# ËäÇÁÇπÈÄâÈ°π
PROXY = select,Auto,1,2,3,4


[Rule]
# CUSTOM RULE
RULE-SET,https://raw.githubusercontent.com/kkkinglong/Profiles/master/Surge/Ruleset/Reject.list, üàöÔ∏è Ad-Gif
RULE-SET,https://raw.githubusercontent.com/kkkinglong/Profiles/master/Surge/Ruleset/Direct.list, üçÇ Domestic
RULE-SET,https://raw.githubusercontent.com/kkkinglong/Profiles/master/Surge/Ruleset/Proxy.list, üçÉ Proxy
RULE-SET,https://raw.githubusercontent.com/kkkinglong/Profiles/master/Surge/Ruleset/Apple.list, üçé Apple
RULE-SET,https://raw.githubusercontent.com/kkkinglong/Profiles/master/Surge/Ruleset/Downloader.list, üìÇ Downloader

# https://github.com/ConnersHua/Profiles/tree/master/Surge/Ruleset
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Unbreak.list, üöÄ Direct
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Advertising.list, üö¶ AD
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Hijacking.list, üö¶ AD
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Telegram.list, üì° Telegram
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/ForeignMedia.list, üì∫ Videos
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Global.list, üçÉ Proxy
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/China.list, üçÇ Domestic
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/DomesticMedia.list, üè° VideosCN


RULE-SET,SYSTEM,üçé Apple
RULE-SET,LAN,DIRECT
GEOIP,CN,üçÇ Domestic
FINAL,Final,dns-failed

[Host]
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
# CUSTOM HOST

[Header Rewrite]
^https?://zhidao\.baidu\.com header-replace User-Agent Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0.2 Safari/605.1.15
# CUSTOM HEADER

[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302

# Redirect HTTP to HTTPS
^https?:\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^https?:\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^https?:\/\/you\.163\.com\/ https://you.163.com/ 302
^https?:\/\/(www.)?suning\.com/ https://suning.com/ 302
^https?:\/\/(www.)?yhd\.com https://yhd.com/ 302

# Redirect False to True
# > IGN China to IGN Global
^https?:\/\/(www.)?ign\.xn--fiqs8s\/ http://cn.ign.com/ccpref/us 302
# > Fake Website Made By Makeding
^https?:\/\/(www.)?abbyychina\.com\/ http://www.abbyy.cn/ 302
^https?:\/\/(www.)?bartender\.cc\/ https://cn.seagullscientific.com 302
^https?:\/\/(www.)?betterzip\.net\/ https://macitbetter.com/ 302
^https?:\/\/(www.)?beyondcompare\.cc\/ https://www.scootersoftware.com/ 302
^https?:\/\/(www.)?bingdianhuanyuan\.cn\/ http://www.faronics.com/zh-hans/ 302
^https?:\/\/(www.)?chemdraw\.com\.cn\/ http://www.cambridgesoft.com/ 302
^https?:\/\/(www.)?codesoftchina\.com\/ https://www.teklynx.com/ 302
^https?:\/\/(www.)?coreldrawchina\.com\/ https://www.coreldraw.com/cn/ 302
^https?:\/\/(www.)?crossoverchina\.com\/ https://www.codeweavers.com/ 302
^https?:\/\/(www.)?easyrecoverychina\.com\/ https://www.ontrack.com/ 302
^https?:\/\/(www.)?ediuschina\.com\/ https://www.grassvalley.com/ 302
^https?:\/\/(www.)?flstudiochina\.com\/ https://www.image-line.com/flstudio/ 302
^https?:\/\/(www.)?formysql\.com\/ https://www.navicat.com.cn 302
^https?:\/\/(www.)?guitarpro\.cc\/ https://www.guitar-pro.com/ 302
^https?:\/\/(www.)?huishenghuiying\.com\.cn\/ https://www.corel.com/cn/ 302
^https?:\/\/(www.)?iconworkshop\.cn\/ https://www.axialis.com/iconworkshop/ 302
^https?:\/\/(www.)?imindmap\.cc\/ https://imindmap.com/zh-cn/ 302
^https?:\/\/(www.)?jihehuaban\.com\.cn\/ https://sketch.io/ 302
^https?:\/\/(www.)?keyshot\.cc\/ https://www.keyshot.com/ 302
^https?:\/\/(www.)?mathtype\.cn\/ http://www.dessci.com/en/products/mathtype/ 302
^https?:\/\/(www.)?mindmanager\.cc\/ https://www.mindjet.com/ 302
^https?:\/\/(www.)?mindmapper\.cc\/ https://mindmapper.com 302
^https?:\/\/(www.)?mycleanmymac\.com\/ https://macpaw.com/cleanmymac 302
^https?:\/\/(www.)?nicelabel\.cc\/ https://www.nicelabel.com/ 302
^https?:\/\/(www.)?ntfsformac\.cc\/ https://www.tuxera.com/products/tuxera-ntfs-for-mac-cn/ 302
^https?:\/\/(www.)?ntfsformac\.cn\/ https://www.paragon-software.com/ufsdhome/zh/ntfs-mac/ 302
^https?:\/\/(www.)?overturechina\.com\/ https://sonicscores.com/overture/ 302
^https?:\/\/(www.)?passwordrecovery\.cn\/ https://cn.elcomsoft.com/aopr.html 302
^https?:\/\/(www.)?pdfexpert\.cc\/ https://pdfexpert.com/zh 302
^https?:\/\/(www.)?ultraiso\.net\/ https://cn.ezbsystems.com/ultraiso/ 302
^https?:\/\/(www.)?vegaschina\.cn\/ https://www.vegas.com/ 302
^https?:\/\/(www.)?xmindchina\.net\/ https://www.xmind.cn/ 302
^https?:\/\/(www.)?xshellcn\.com\/ https://www.netsarang.com/products/xsh_overview.html 302
^https?:\/\/(www.)?yuanchengxiezuo\.com\/ https://www.teamviewer.com/zhcn/ 302
^https?:\/\/(www.)?zbrushcn\.com\/ http://pixologic.com/ 302

# CUSTOM URL


[Script]
# YouTube Âéª5ÁßíÂπøÂëä
http-request ^https://[\s\S]*\.googlevideo\.com/.*&(oad|ctier) script-path=https://Choler.github.io/Surge/Script/YouTube.js

# > WeChat
http-request ^https://mp\.weixin\.qq\.com/mp/getappmsgad script-path=https://Choler.github.io/Surge/Script/WeChat.js

# > Weibo
http-response ^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|\!/photos/pic_recommend_status) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js
http-response ^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js

# ÂìîÂì©ÂìîÂì©ÔºàNÂêà‰∏ÄÁâàÔºâÔºàÂéü‰ΩúËÄÖÔºöonewayticket255 ‰øÆÊîπÔºöPrimovistÔºâ
http-response ^https?:\/\/ap(i|p).bilibili.com\/x\/(resource\/show\/tab|v2\/(reply\/main|view\/material|account\/mine|view|feed\/index))\?access_key requires-body=1,max-size=-1,script-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/Surge/resources/script/bilibili.js

# Áü•‰πéÂéªÂπøÂëäÔºà‰øÆÊîπÔºöPrimovistÔºâ
http-response ^https?:\/\/api\.zhihu\.com\/(moments\?|topstory\/recommend|.*\/questions|market\/header) requires-body=1,max-size=-1,script-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/Surge/resources/script/zhihu.js

# > ‰∫¨‰∏úÂéÜÂè≤‰ª∑Ê†º
http-response ^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/jd_price.js
# > Ê∑òÂÆùÂéÜÂè≤‰ª∑Ê†º
http-response ^https://trade-acs.m.taobao.com/gw/mtop.taobao.detail.getdetail requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js


[SSID Setting]
# CUSTOM SSID

# MitM ‰∏ªË¶ÅÁî®‰∫éÂéªÂπøÂëäÔºåÂ¶Ç‰∏çÈúÄË¶Å [URL Rewrite] ‰∏≠ÁöÑÂéªÂπøÂëä‰ª•‰∏ãÁöÜÂèØÂà†Èô§
[MITM]
skip-server-cert-verify = true
hostname= *.360buyimg.com, *.chelaile.net.cn, *.cnbetacdn.com, *.didistatic.com, *.doubanio.com, *.google-analytics.com, *.iydsj.com, *.k.sohu.com, *.kfc.com, *.kingsoft-office-service.com, *.meituan.net, *.ofo.com, *.pixiv.net, *.pstatp.com, *.uve.weibo.com, *.wikipedia.org, *.wikiwand.com, *.ydstatic.com, *.youdao.com, *.youtube.com, *.zhuishushenqi.com, *.zymk.cn, 101.201.62.22, 113.105.222.132, 113.96.109.*, 118.178.214.118, 119.18.193.135, 121.14.89.216, 121.9.212.178, 123.59.31.1, 14.21.76.30, 153.3.236.81, 180.101.212.22, 183.232.237.194, 183.232.246.225, 183.60.159.227, 218.11.3.70, 59.151.53.6, 59.37.96.220, 789.kakamobi.cn, a.apicloud.com, a.applovin.com, a.qiumibao.com, a.sfansclub.com, a.wkanx.com, aarkissltrial.secure2.footprint.net, acs.m.taobao.com, act.vip.iqiyi.com, activity2.api.ofo.com, adm.10jqka.com.cn, adproxy.autohome.com.cn, adse.ximalaya.com, afd.baidu.com, api*.musical.ly, api*.tiktokv.com, api.abema.io, api.app.vhall.com, api.bilibili.com, api.chelaile.net.cn, api.daydaycook.com.cn, api.douban.com, api.feng.com, api.fengshows.com, api.gotokeep.com, api.huomao.com, api.intsig.net, api.jr.mi.com, api.jxedt.com, api.k.sohu.com, api.kkmh.com, api.laifeng.com, api.live.bilibili.com, api.m.jd.com, api.m.mi.com, api.mddcloud.com.cn, api.mgzf.com, api.psy-1.com, api.rr.tv, api.smzdm.com, api.tv.sohu.com, api.wallstreetcn.com, api.weibo.cn, api.xiachufang.com, api.zhihu.com, api.zhuishushenqi.com, api5.futunn.com, api-mifit.huami.com, api-mifit-cn.huami.com, api-release.wuta-cam.com, app.10086.cn, app.58.com, app.api.ke.com, app.bilibili.com, app.m.zj.chinamobile.com, app.mixcapp.com, app.variflight.com, app.wy.guahao.com, app2.autoimg.cn, appsdk.soku.com, atrace.chelaile.net.cn, b.zhuishushenqi.com, c.m.163.com, cap.caocaokeji.cn, capi.douyucdn.cn, capi.mwee.cn, cdn.kuaidi100.com, cdn.moji.com, channel.beitaichufang.com, classbox2.kechenggezi.com, client.mail.163.com, cms.daydaycook.com.cn, connect.facebook.net, consumer.fcbox.com, creatives.ftimg.net, creditcard.ecitic.com, d.1qianbao.com, daoyu.sdo.com, dapis.mting.info, dl.app.gtja.com, dongfeng.alicdn.com, dsp-impr2.youdao.com, dspsdk.abreader.com, e.dangdang.com, erebor.douban.com, fdfs.xmcdn.com, fm.fenqile.com, frodo.douban.com, fuss10.elemecdn.com, g1.163.com, gateway.shouqiev.com, gorgon.youdao.com, gw.alicdn.com, gw-passenger.01zhuanche.com, hm.xiaomi.com, hui.sohu.com, huichuan.sm.cn, i.weread.qq.com, i.ys7.com, i1.hoopchina.com.cn, iapi.bishijie.com, iface.iqiyi.com, iface2.iqiyi.com, img*.doubanio.com, img.jiemian.com, img.zuoyebang.cc, img01.10101111cdn.com, img1.126.net, img1.doubanio.com, img3.doubanio.com, impservice.dictapp.youdao.com, impservice.youdao.com, interface.music.163.com, ios.prod.ftl.netflix.com, ios.wps.cn, kano.guahao.cn, lives.l.qq.com, m*.amap.com, m.aty.sohu.com, m.client.10010.com, m.creditcard.ecitic.com, m.ibuscloud.com, m.yap.yahoo.com, m5.amap.com, ma.ofo.com, mage.if.qidian.com, mapi.appvipshop.com, mapi.mafengwo.cn, mapi.weibo.com, mbl.56.com, media.qyer.com, mi.gdt.qq.com, mimg.127.net, mmg.aty.sohu.com, mmgr.gtimg.com, mob.mddcloud.com.cn, mobile-api2011.elong.com, mp.weixin.qq.com, mrobot.pcauto.com.cn, mrobot.pconline.com.cn, ms.jr.jd.com, msspjh.emarbox.com, newsso.map.qq.com, nex.163.com, nnapp.cloudbae.cn, open.qyer.com, p.kuaidi100.com, p1.music.126.net, pic.k.sohu.com, pic1.chelaile.net.cn, pic1cdn.cmbchina.com, pic2.zhimg.com, portal-xunyou.qingcdn.com, pss.txffp.com, r.inews.qq.com, render.alipay.com, resource.cmbchina.com, res-release.wuta-cam.com, ress.dxpmedia.com, richmanapi.jxedt.com, rm.aarki.net, rtbapi.douyucdn.cn, service.4gtv.tv, slapi.oray.net, smkmp.96225.com, snailsleep.net, sp.kaola.com, ssl.kohsocialapp.qq.com, sso.ifanr.com, static.api.m.panda.tv, static.vuevideo.net, static1.keepcdn.com, staticlive.douyucdn.cn, storage.wax.weibo.com, support.you.163.com, supportda.ofo.com, thor.weidian.com, ups.youku.com, wapwenku.baidu.com, wenku.baidu.com, www.dandanzan.com, www.facebook.com, www.flyertea.com, www.ft.com, www.oschina.net, www.zhihu.com, youtubei.googleapis.com, zhidao.baidu.com,-CustomMitM

